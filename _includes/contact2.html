<!-- Contact -->
<section class="page-section" id="{{ site.data.sitetext[site.locale].contact.section | default: "contact" }}">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">
          {{ site.data.sitetext[site.locale].contact.title | markdownify | default: "Contact" }}
        </h2>
        <h3 class="section-subheading text-muted">
          {{ site.data.sitetext[site.locale].contact.text | default: "" }}
        </h3>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <form id="contactForm" action="https://api.web3forms.com/submit" method="POST" novalidate="novalidate">
          <input type="hidden" name="access_key" value="c4fe01b4-4bd0-4126-889d-26419387d637">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <input name="name" class="form-control" id="name" type="text"
                  placeholder="{{ site.data.sitetext[site.locale].contact.name | default: "Name*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext[site.locale].contact.name-validation | default: "Please enter your name" }}">
                <p class="help-block text-danger"></p>
              </div>
              <div class="form-group">
                <input name="email" class="form-control" id="email" type="email"
                  placeholder="{{ site.data.sitetext[site.locale].contact.email | default: "Email*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext[site.locale].contact.email-validation | default: "Please enter your email address" }}">
                <p class="help-block text-danger"></p>
              </div>
              <div class="form-group">
                <input name="phone" class="form-control" id="phone" type="tel"
                  placeholder="{{ site.data.sitetext[site.locale].contact.phone | default: "Phone*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext[site.locale].contact.phone-validation | default: "Please enter your phone number" }}">
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <textarea name="message" class="form-control" id="message"
                  placeholder="{{ site.data.sitetext[site.locale].contact.message | default: "Message" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext[site.locale].contact.message-validation | default: "Please enter your message" }}">
                </textarea>
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <input type="hidden" name="subject"
              value="{{ site.data.sitetext[site.locale].contact.subject | default: "Contact Form Submission" }}">
            <div class="clearfix"></div>
            <div class="col-lg-12 text-center">
              <div id="success"></div>
              <button id="sendMessageButton" class="btn btn-primary btn-xl text-uppercase"
                type="submit">{{ site.data.sitetext[site.locale].contact.submit | default: "Send" }}</button>
            </div>
            <!-- Web3Forms honeypot field equivalent to Formspree's _gotcha -->
            <input type="text" name="botcheck" style="display:none">
            <input type="hidden" name="redirect" value="#" />
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
<!-- End Contact -->
<script>
  function handleFormSubmit(event) {
    event.preventDefault();
    const form = document.getElementById('contactForm');
    const formData = new FormData(form);
    const successDiv = document.getElementById('success');

    fetch('https://api.web3forms.com/submit', {
      method: 'POST',
      body: formData
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        successDiv.innerHTML = '<p class="text-success">Your message has been sent successfully!</p>';
        form.reset();
      } else {
        successDiv.innerHTML = '<p class="text-danger">There was an error sending your message. Please try again.</p>';
      }
    })
    .catch(error => {
      successDiv.innerHTML = '<p class="text-danger">An error occurred: ' + error.message + '</p>';
    });
  }
</script>